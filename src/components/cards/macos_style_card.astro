---
interface Props {
  cardData: {
    header: string;
    header_eng?: string;
    content?: string;
  };
}

const { cardData } = Astro.props;
---

<!-- macOS 风格卡片 -->
<div
  class="mac-card
    max-w-screen rounded-xl mb-0
    bg-white/80 dark:bg-gray-800/80
    backdrop-blur-xl
    border border-gray-200/50 dark:border-gray-700/50
    shadow-lg
    shadow-gray-400/20 dark:shadow-black/30
    overflow-hidden
    [box-shadow:inset_0_1px_0_rgba(255,255,255,0.15),0_4px_20px_rgba(0,0,0,0.1)]
    dark:[box-shadow:inset_0_1px_0_rgba(255,255,255,0.05),0_4px_20px_rgba(0,0,0,0.3)]
    hover:[box-shadow:0_8px_30px_rgba(0,0,0,0.15)]
    dark:hover:[box-shadow:0_8px_30px_rgba(0,0,0,0.4)]"
>
  <!-- 标题栏 -->
  <div
    class="h-7 flex items-center px-3
      bg-white/60 dark:bg-gray-800/60
      border-b border-gray-200/40 dark:border-gray-700/50"
  >
    <div class="flex gap-2">
      <div class="control-btn w-3 h-3 rounded-full bg-red-400"></div>
      <div class="control-btn w-3 h-3 rounded-full bg-yellow-400"></div>
      <div class="control-btn w-3 h-3 rounded-full bg-green-400"></div>
    </div>
    <!-- 不好看说是 -->
    <!-- 这不就好看了 -->
    <p
      class="m-a pr-12 text-sm font-medium text-gray-700 dark:text-gray-300 truncate"
    >
      {cardData.header_eng}
    </p>
  </div>

  <!-- 内容区 -->
  <div class="p-5">
    <h2
      class="text-2xl font-semibold m-0 mb-0 dark:text-gray-100 transition-colors duration-300"
    >
      {cardData.header}
    </h2>
    {
      cardData.header_eng && (
        <p class="text-sm font-bold m-0 mb-2 underline underline-coolGray">
          {cardData.header_eng}
        </p>
      )
    }
    <p
      class="text-base text-gray-600 dark:text-gray-300 leading-relaxed transition-colors duration-300"
      set:html={cardData.content}
    />
  </div>
  <slot />
</div>

<style>
  .mac-card {
    will-change: transform, box-shadow;
    transition:
      transform 0.25s cubic-bezier(0.34, 1.56, 0.64, 1),
      box-shadow 0.25s ease;
  }
  .mac-card:hover {
    transform: translateY(-4px);
  }
  .control-btn {
    transition:
      transform 0.15s ease,
      background-color 0.15s ease;
  }
  .control-btn:hover {
    transform: scale(1.25);
  }
</style>
