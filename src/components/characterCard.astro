---
// CharacterCard.astro
const props = {
  name: 'ÊµÅËê§',
  level: 80,
  maxLevel: 80,
  element: 'ÂÜ∞',
  path: 'ÊØÅÁÅ≠',
  constellation: 6,
  constellations: [6, 10, 10, 10],
  lightcone: {
    name: 'Ê¢¶Â∫îÂΩí‰∫é‰ΩïÂ§Ñ',
    level: 80,
    maxLevel: 80,
    hp: 1164,
    atk: 476,
    def: 529,
  },
  stats: {
    hp: { base: 1979, bonus: 1144, total: 3123 },
    atk: { base: 1000, bonus: 1336, total: 2336 },
    def: { base: 1305, bonus: 193, total: 1498 },
    spd: { base: 104.00, bonus: 64.37, total: 168.37 },
    critRate: { base: 0, bonus: 14.3, total: 14.3 },
    critDmg: { base: 0, bonus: 68.1, total: 68.1 },
    breakEffect: 241.6,
    energyRecovery: 100.0,
    effectHit: 12.0,
    effectResist: 18.0,
  },
  relics: [
    {
      name: 'Ëç°Èô§Ë†πÁÅæÁöÑÈìÅÈ™ë',
      mainStat: '+15',
      subStats: [
        { type: 'hp', value: '+2.30' },
        { type: 'def', value: '+4.3%' },
        { type: 'atk', value: '+18.1%' },
        { type: 'hp', value: '+12.0%' },
      ],
    },
    {
      name: 'Âä´ÁÅ´Ëé≤ÁÅØÈì∏ÁÇºÂÆ´',
      mainStat: '+15',
      subStats: [
        { type: 'spd', value: '+6.00' },
        { type: 'def', value: '+9.1%' },
        { type: 'atk', value: '+5.1%' },
        { type: 'atk', value: '+42' },
      ],
    },
  ],
};

// Ê®°Êãü API Êï∞ÊçÆËé∑ÂèñÔºàÂÆûÈôÖÈ°πÁõÆ‰∏≠ÂèØ‰ª•ÊõøÊç¢‰∏∫ fetchÔºâ
// const data = await fetch('/api/character/flowing').then(res => res.json());
// const props = data;
---

<div class="relative w-6xl h-auto bg-gray-900 rounded-lg overflow-hidden shadow-2xl border border-gray-700">
  <!-- ËÉåÊôØÊ∏êÂèòÂ±Ç -->
  <div class="absolute inset-0 bg-gradient-to-r from-blue-900 via-purple-900 to-indigo-900 opacity-20"></div>

  <!-- ËßíËâ≤Á´ãÁªò -->
  <div class="relative flex flex-col md:flex-row h-[500px] md:h-[600px]">
    <!-- Â∑¶‰æßÁ´ãÁªò -->
    <div class="w-full md:w-1/3 relative">
      <img src="http://example.com/image.png" alt="{props.name}" class="w-full h-full object-cover" />
      <div class="absolute bottom-4 left-4 text-white text-sm font-bold">ÂÆùË¥ùÂÑø<br />110879907</div>
    </div>

    <!-- Âè≥‰æßÂÜÖÂÆπ -->
    <div class="flex flex-col p-4 md:p-6 w-full md:w-2/3 bg-black/50 backdrop-blur-sm">
      <!-- ËßíËâ≤Â§¥ÈÉ®‰ø°ÊÅØ -->
      <div class="flex items-center justify-between mb-4">
        <h1 class="text-3xl font-bold text-white">{props.name}</h1>
        <div class="flex items-center space-x-2">
          <span class="text-yellow-400">Lv. {props.level}/{props.maxLevel}</span>
          <div class="w-6 h-6 text-yellow-400 flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4">
              <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"/>
            </svg>
          </div>
          <div class="w-6 h-6 text-red-500 flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4">
              <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
            </svg>
          </div>
        </div>
      </div>

      <!-- ÂëΩÂ∫ß -->
      <div class="mb-4 grid grid-cols-1 gap-2">
        {props.constellations.map((c, i) => (
          <div class="flex items-center space-x-2">
            <div class="w-8 h-8 bg-black rounded-full border-2 border-yellow-400 flex items-center justify-center text-xs font-bold text-yellow-400">
              {c}
            </div>
            <div class="flex space-x-1">
              {['fire', 'wind', 'water', 'thunder', 'ice'].map((elem, j) => (
                <div class={`w-4 h-4 ${j === i ? 'bg-white' : 'bg-gray-600'} rounded-full`}></div>
              ))}
            </div>
          </div>
        ))}
      </div>

      <!-- ÂÖâÈî• -->
      <div class="mb-6">
        <div class="flex items-center space-x-3">
          <img src="https://example.com/lightcone.png" alt="ÂÖâÈî•" class="w-20 h-28 object-cover rounded border-2 border-yellow-400" />
          <div>
            <p class="text-white font-semibold">{props.lightcone.name}</p>
            <p class="text-sm text-gray-300">Lv. {props.lightcone.level}/{props.lightcone.maxLevel}</p>
            <div class="flex space-x-2 mt-1">
              <div class="flex items-center text-sm text-gray-300">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-3 h-3 mr-1">
                  <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                </svg>
                {props.lightcone.hp}
              </div>
              <div class="flex items-center text-sm text-gray-300">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-3 h-3 mr-1">
                  <path d="M19 3H5c-1.1 0-2 .9-2 2v14h2V5h12V3zM9 17h2v-2H9v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2z"/>
                </svg>
                {props.lightcone.atk}
              </div>
              <div class="flex items-center text-sm text-gray-300">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-3 h-3 mr-1">
                  <path d="M19 3H5c-1.1 0-2 .9-2 2v14h2V5h12V3zM9 17h2v-2H9v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2z"/>
                </svg>
                {props.lightcone.def}
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Â±ûÊÄßÂàóË°® -->
      <div class="grid grid-cols-2 gap-3 mb-4">
        {[
          { label: 'ÁîüÂëΩÂÄº', icon: '‚ù§Ô∏è', value: props.stats.hp.total, base: props.stats.hp.base, bonus: props.stats.hp.bonus },
          { label: 'ÊîªÂáªÂäõ', icon: '‚öîÔ∏è', value: props.stats.atk.total, base: props.stats.atk.base, bonus: props.stats.atk.bonus },
          { label: 'Èò≤Âæ°Âäõ', icon: 'üõ°Ô∏è', value: props.stats.def.total, base: props.stats.def.base, bonus: props.stats.def.bonus },
          { label: 'ÈÄüÂ∫¶', icon: '‚ö°', value: props.stats.spd.total, base: props.stats.spd.base, bonus: props.stats.spd.bonus },
          { label: 'Êö¥ÂáªÁéá', icon: 'üí•', value: `${props.stats.critRate.total}%`, base: 0, bonus: props.stats.critRate.bonus },
          { label: 'Êö¥Âáª‰º§ÂÆ≥', icon: 'üí•', value: `${props.stats.critDmg.total}%`, base: 0, bonus: props.stats.critDmg.bonus },
          { label: 'ÂáªÁ†¥ÁâπÊîª', icon: 'üéØ', value: `${props.stats.breakEffect}%` },
          { label: 'ËÉΩÈáèÊÅ¢Â§çÊïàÁéá', icon: 'üîã', value: `${props.stats.energyRecovery}%` },
          { label: 'ÊïàÊûúÂëΩ‰∏≠', icon: 'üéØ', value: `${props.stats.effectHit}%` },
          { label: 'ÊïàÊûúÊäµÊäó', icon: 'üõ°Ô∏è', value: `${props.stats.effectResist}%` },
        ].map(stat => (
          <div class="flex justify-between items-center text-sm">
            <span class="text-gray-300">{stat.icon} {stat.label}</span>
            <span class="text-white font-semibold">{stat.value}</span>
            {stat.bonus && <span class="text-yellow-400 text-xs ml-1">+{stat.bonus}%</span>}
          </div>
        ))}
      </div>

      <!-- ÈÅóÂô® -->
      <div class="mt-6">
        <h3 class="text-yellow-400 font-bold mb-2">ÈÅóÂô®</h3>
        <div class="space-y-2">
          {props.relics.map(relic => (
            <div class="border border-gray-600 rounded p-2 bg-black/50">
              <div class="flex justify-between items-center">
                <span class="text-white text-sm">{relic.name}</span>
                <span class="text-yellow-400 text-xs">{relic.mainStat}</span>
              </div>
              <div class="grid grid-cols-2 gap-1 mt-1">
                {relic.subStats.map(sub => (
                  <div class="text-xs text-gray-400 flex items-center">
                    {sub.type === 'hp' && '‚ù§Ô∏è'}
                    {sub.type === 'atk' && '‚öîÔ∏è'}
                    {sub.type === 'def' && 'üõ°Ô∏è'}
                    {sub.type === 'spd' && '‚ö°'}
                    {sub.type === 'critRate' && 'üí•'}
                    {sub.type === 'critDmg' && 'üí•'}
                    {sub.type === 'effectHit' && 'üéØ'}
                    {sub.type === 'effectResist' && 'üõ°Ô∏è'}
                    <span class="ml-1">{sub.value}</span>
                  </div>
                ))}
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  </div>
</div>